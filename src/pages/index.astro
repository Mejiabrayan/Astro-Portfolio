---
// import Cards from '@/components/Cards';
import Layout from '@/components/Layout.astro';
import Projects from '@/components/Projects';
import type { ProjectTypes } from '../../src/lib/contentful';

import Section from '@/components/Section';
import '../styles/globals.css';
import { Button } from '@/components/ui/button';
import { contentfulClient } from '@/lib/contentful';

const entries = await contentfulClient.getEntries<ProjectTypes>({
  content_type: 'project',
});

const projects = entries.items.map((item) => {
  const { title, image, description, slug } = item.fields;
  return {
    title,
    image,
    description,
    slug,
  };
});
---

<Layout title='Brayan M. Cuenca Portfolio'>
  <div class='mx-auto bg-[#0b0d10] max-w-screen-xl h-screen'>
    <Section>
      <div class=''>
        <p class='text-md md:text-lg xl:text-xl text-white leading-loose'>
          Enthusiastic about the Web. I'm currently on a journey building tools
          with AI, leaning more into SaaS, immersing myself in Typescript &
          overall finding myself as a developer and the problems I want to
          solve.
        </p>
        <Button
          className='mt-8 transition-colors duration-1000 ease-in-out hover:bg-[#0b0d10] hover:text-white'
          variant={'outline'}
        >
          Let's work together
          <svg
            class='w-4 h-4 ml-2 hover:transform hover:translate-x-1 transition-transform duration-500 ease-in-out'
            viewBox='0 0 24 24'
            fill='none'
            stroke='currentColor'
            stroke-width='2'
            stroke-linecap='round'
            stroke-linejoin='round'
          >
            <path d='M5 12h14M12 5l7 7-7 7'></path>
          </svg>
        </Button>
      </div>
    </Section>

    <hr class='border-t border-gray-800' />
    <section
      id='projects'
      class='px-4 md:px-8 lg:px-0 xl:px-32 2xl:px-40 mt-24 mb-12 text-left'
    >
      <h3 class='text-lg md:text-xl lg:text-xl text-white mb-4'>
        Latest <br />
        <span class='text-gray-400'>Projects</span>
      </h3>
      <p class='text-sm md:text-base xl:text-lg text-gray-500 leading-relaxed'>
        Here are some of my latest projects. I'm always working on something
        new, so check back often.
      </p>

      {
        projects.map((project, index) => (
          <div>
            <a href={`/projects/${project.slug}/`}>
              {' '}
              <Projects
                client:load
                title={project.title}
                image={project.image}
                description={project.description[0]}
              />
            </a>
          </div>
        ))
      }
    </section>
  </div>
</Layout>
